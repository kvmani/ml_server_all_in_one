{% extends "base.html" %}
{% block title %}Help Â· Tabular ML{% endblock %}
{% block content %}
  {% set upload = plugin_settings.get('upload', {}) %}
  <section class="shell surface-block help-content" aria-labelledby="tabular-help-title">
    <header>
      <p class="tool-card__category">Machine learning</p>
      <h1 id="tabular-help-title" class="section-heading">Tabular ML guidance</h1>
      <p class="hero__subtitle">Train offline models on CSV datasets with dataset profiling, scatter plots, and automatic task detection.</p>
    </header>

    <article class="surface-muted help-section">
      <h2>Preparing datasets</h2>
      <ul class="list-reset">
        <li>Ensure the first row contains column headers; the target column name must match one of the headers exactly.</li>
        <li>Only numeric feature columns are used for training. Categorical predictors should be encoded before upload.</li>
        <li>File size is capped at {{ upload.get('max_mb', 2) }} MB to guarantee sub-second parsing in the air-gapped environment.</li>
      </ul>
    </article>

    <article class="surface-muted help-section">
      <h2>Workflow</h2>
      <ol>
        <li>Upload the CSV. A preview table and column summary appear once the dataset is cached in memory.</li>
        <li>Use the scatter plot form to explore numeric relationships. Choose optional colour encodings to highlight clusters.</li>
        <li>Provide the target column and start training. The backend infers classification vs. regression automatically.</li>
        <li>Review metrics and top features, then clear the dataset to load a new file.</li>
      </ol>
    </article>

    <article class="surface-muted help-section">
      <h2>Reading the results</h2>
      <ul class="list-reset">
        <li><strong>Metrics:</strong> Classification reports accuracy; regression reports root-mean-square error (RMSE).</li>
        <li><strong>Feature importance:</strong> Derived from the absolute model coefficients after standard scaling. Values are sorted descending and shown for the top five features.</li>
        <li>Scatter plots are rendered with inline SVG; use browser zoom or theme toggle for presentation-ready captures.</li>
      </ul>
    </article>
  </section>
{% endblock %}
