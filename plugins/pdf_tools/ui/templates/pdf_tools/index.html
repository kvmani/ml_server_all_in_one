{% extends "base.html" %}
{% block title %}PDF Tools{% endblock %}
{% block styles %}
<link rel="stylesheet" href="{{ url_for('pdf_tools.static', filename='css/index.css') }}">
{% endblock %}
{% block content %}
<section class="tool pdf-tool" aria-label="PDF utilities">
  <header class="tool__header">
    <h2>PDF Toolkit</h2>
    <p>Preview, reorder, and merge PDF files or split a document into per-page downloads. Everything runs locally in your browser.</p>
  </header>

  <form id="merge-form" class="panel" aria-describedby="merge-status">
    <header class="panel__header">
      <h3>Merge PDFs</h3>
      <p>Select multiple PDFs, specify page ranges like <code>1-3,5</code>, reorder with the arrows, and preview each file before merging.</p>
    </header>
    <div class="merge-controls">
      <button class="btn" type="button" id="add-merge-files">Add PDFs</button>
      <input id="merge-picker" type="file" accept="application/pdf" multiple hidden>
      <label class="output-name">Output name <input id="merge-output" type="text" value="merged.pdf"></label>
    </div>
    <div id="merge-entries" class="merge-entries" aria-live="polite"></div>
    <div class="merge-actions">
      <button class="btn" type="submit">Merge selected</button>
      <button class="btn btn-ghost" type="button" id="clear-merge">Clear list</button>
      <span id="merge-status" class="status" aria-live="polite"></span>
    </div>
  </form>

  <form id="split-form" class="panel" enctype="multipart/form-data" aria-describedby="split-status">
    <header class="panel__header">
      <h3>Split PDF</h3>
      <p>Upload a document to receive each page as a downloadable PDF snippet.</p>
    </header>
    <div class="split-controls">
      <label for="split-file">Choose PDF</label>
      <input id="split-file" name="file" type="file" accept="application/pdf" required>
      <button class="btn" type="submit">Split into pages</button>
      <span id="split-status" class="status" aria-live="polite"></span>
    </div>
    <div id="split-results" hidden>
      <h4>Pages</h4>
      <ul></ul>
    </div>
  </form>
</section>
{% endblock %}
{% block scripts %}
<script type="module" src="{{ url_for('pdf_tools.static', filename='js/index.js') }}"></script>
{% endblock %}
